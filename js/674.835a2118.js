"use strict";(self["webpackChunkapp_test"]=self["webpackChunkapp_test"]||[]).push([[674],{5258:function(t,e,i){i.r(e),i.d(e,{default:function(){return x}});var l=i(501),n=i(3396),s=i(7139),o=i(9242);const c=t=>((0,n.dD)("data-v-9ad9a940"),t=t(),(0,n.Cn)(),t),d={class:"all-module-editor-controller"},p={class:"table-view"},a={class:"title-box"},r=c((()=>(0,n._)("div",{class:"title"},"首页应用",-1))),m={key:0,class:"subtitle"},u={class:"content-view",ref:"itemList"},v=["src"],A=["src","onClick"],w=c((()=>(0,n._)("div",{class:"title-box"},[(0,n._)("div",{class:"title"},"未添加应用")],-1))),y={class:"content-view"},_=["src"],g=["src","onClick"];function k(t,e,c,k,h,E){const b=l.Z;return(0,n.wg)(),(0,n.iD)("div",d,[(0,n.Wm)(b,{title:k.isEditor?"编辑应用":"应用中心"},{rightItem:(0,n.w5)((()=>[(0,n._)("div",{class:"right-item",onClick:e[0]||(e[0]=t=>k.isEditor=!k.isEditor)},(0,s.zw)(k.isEditor?"保存":"管理"),1)])),_:1},8,["title"]),(0,n._)("div",p,[(0,n._)("section",null,[(0,n._)("div",a,[r,k.isEditor?((0,n.wg)(),(0,n.iD)("div",m,"长按拖动排序")):(0,n.kq)("",!0)]),(0,n._)("div",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(k.data.myApp,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"item",key:e},[(0,n._)("img",{src:t.icon},null,8,v),(0,n._)("span",null,(0,s.zw)(t.title),1),(0,n.wy)((0,n._)("img",{class:"deleteAndAdd",src:i(8102),onClick:t=>k.deleteEvent(e)},null,8,A),[[o.F8,k.isEditor]])])))),128))],512)]),(0,n._)("section",null,[w,(0,n._)("div",y,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(k.data.noApp,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"item",key:e},[(0,n._)("img",{src:t.icon},null,8,_),(0,n._)("span",null,(0,s.zw)(t.title),1),(0,n.wy)((0,n._)("img",{class:"deleteAndAdd",src:i(1284),onClick:t=>k.addEvent(e)},null,8,g),[[o.F8,k.isEditor]])])))),128))])])])])}var h=i(4870),E=i(3413),b=i(65),f={name:"AllModuleEditorController",components:{NavigationBar:l.Z},setup(t,e){const i=(0,b.oR)(),l=(0,h.qj)({myApp:[...i.state.workbench.myApp],noApp:[...i.state.workbench.noApp],reload:!0}),s=(0,h.iH)(null),o=(0,h.iH)(!1),c=t=>{const e=l.myApp[t];l.myApp.splice(t,1),l.noApp.push(e)},d=t=>{const e=l.noApp[t];l.noApp.splice(t,1),l.myApp.push(e)},p=(t,e)=>{const i=l.myApp.map(((t,e)=>e)),s=i[t];t<e?(i.splice(e+1,0,s),i.splice(t,1)):(i.splice(e,0,s),i.splice(s+1,1));const o=i.map((t=>({...l.myApp[t]})));l.myApp=[],(0,n.Y3)((()=>{l.myApp=o}))};let a=null;return(0,n.YP)(o,((t,e,n)=>{t?a=E.ZP.create(s.value,{sort:!0,animation:150,onStart:function(t){t.item.style.backgroundColor="";for(let e=0;e<t.item.children.length;e++)t.item.children[e].style.display="none"},onEnd:function(t){console.log("onEnd"),t.item.style.backgroundColor="white";for(let e=0;e<t.item.children.length;e++)t.item.children[e].style.display="";p(t.oldIndex,t.newIndex)}}):(a.destroy(),i.commit("workbench/updateApp",[l.myApp,l.noApp]))})),{isEditor:o,deleteEvent:c,addEvent:d,itemList:s,sortable:a,store:i,data:l,swapAppEvent:p}}},C=i(89);const D=(0,C.Z)(f,[["render",k],["__scopeId","data-v-9ad9a940"]]);var x=D}}]);
//# sourceMappingURL=674.835a2118.js.map